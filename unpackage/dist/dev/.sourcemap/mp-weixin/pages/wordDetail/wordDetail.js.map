{"version":3,"file":"wordDetail.js","sources":["pages/wordDetail/wordDetail.vue","F:/HBuilderX.4.75.2025071105/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvd29yZERldGFpbC93b3JkRGV0YWlsLnZ1ZQ"],"sourcesContent":["<template>\r\n  <view class=\"container\">\r\n    <view class=\"word-card\">\r\n      <!-- ÂçïËØç‰∏ª‰Ωì -->\r\n      <view class=\"word-header\">\r\n        <view class=\"word-title\">{{ wordData.word }}</view>\r\n        <view class=\"word-pos\">{{ posMap[wordData.pos] }}</view>\r\n      </view>\r\n      \r\n      <!-- ÂèëÈü≥ÊåâÈíÆ -->\r\n      <view class=\"pronunciation-section\">\r\n        <button class=\"pronunciation-btn\" @click=\"playPronunciation\">\r\n          <text class=\"icon\">üîä</text>\r\n          <text>ÂèëÈü≥</text>\r\n        </button>\r\n      </view>\r\n      \r\n      <!-- ‰∏≠ÊñáÊÑèÊÄù -->\r\n      <view class=\"meaning-section\">\r\n        <view class=\"section-title\">‰∏≠ÊñáÊÑèÊÄù</view>\r\n        <view class=\"meaning-content\">{{ wordData.meaning }}</view>\r\n      </view>\r\n      \r\n      <!-- ËØçÊÄß‰ø°ÊÅØ -->\r\n      <view class=\"pos-section\">\r\n        <view class=\"section-title\">ËØçÊÄß</view>\r\n        <view class=\"pos-tag\">{{ posMap[wordData.pos] }}</view>\r\n      </view>\r\n      \r\n      <!-- Â≠¶‰π†Áä∂ÊÄÅ -->\r\n      <view class=\"status-section\">\r\n        <view class=\"section-title\">Â≠¶‰π†Áä∂ÊÄÅ</view>\r\n        <view class=\"status-badges\">\r\n          <view class=\"status-badge\" :class=\"{ active: isLearned }\">\r\n            <text class=\"badge-icon\">‚úì</text>\r\n            <text>Â∑≤Â≠¶‰ºö</text>\r\n          </view>\r\n          <view class=\"status-badge\" :class=\"{ active: isWrong }\">\r\n            <text class=\"badge-icon\">‚úó</text>\r\n            <text>ÈîôÈ¢ò</text>\r\n          </view>\r\n        </view>\r\n      </view>\r\n      \r\n      <!-- Êìç‰ΩúÊåâÈíÆ -->\r\n      <view class=\"action-section\">\r\n        <button class=\"action-btn mark-btn\" @click=\"toggleLearned\">\r\n          {{ isLearned ? 'Ê†áËÆ∞‰∏∫Êú™Â≠¶' : 'Ê†áËÆ∞‰∏∫Â∑≤Â≠¶' }}\r\n        </button>\r\n        <button class=\"action-btn wrong-btn\" @click=\"toggleWrong\">\r\n          {{ isWrong ? 'ÁßªÂá∫ÈîôÈ¢ò' : 'Âä†ÂÖ•ÈîôÈ¢ò' }}\r\n        </button>\r\n      </view>\r\n      \r\n      <!-- ÁªßÁª≠Â≠¶‰π†ÊåâÈíÆ -->\r\n      <view class=\"continue-section\" v-if=\"showContinue\">\r\n        <button class=\"continue-btn\" @click=\"continueNext\">\r\n          <text class=\"continue-icon\">‚Üí</text>\r\n          <text>ÁªßÁª≠‰∏ã‰∏Ä‰∏™</text>\r\n        </button>\r\n      </view>\r\n    </view>\r\n  </view>\r\n</template>\r\n\r\n<script>\r\nimport { \r\n  getCurrentBookWords, \r\n  getCurrentBookLearnedWords, \r\n  getCurrentBookWrongWords,\r\n  addLearnedWordToCurrentBook,\r\n  removeLearnedWordFromCurrentBook,\r\n  addWrongWordToCurrentBook,\r\n  removeWrongWordFromCurrentBook,\r\n  posMap\r\n} from '@/utils/bookData.js'\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      wordData: {},\r\n      isLearned: false,\r\n      isWrong: false,\r\n      showContinue: false,\r\n      fromPage: '', // Êù•Ê∫êÈ°µÈù¢Ôºölearn, review, search\r\n      posMap\r\n    }\r\n  },\r\n  onLoad(options) {\r\n    // Êé•Êî∂ÂèÇÊï∞ÔºöwordId, fromPage\r\n    const { wordId, fromPage } = options\r\n    this.fromPage = fromPage || 'search'\r\n    this.showContinue = (fromPage === 'learn' || fromPage === 'review')\r\n    \r\n    // Ê†πÊçÆ wordId Êü•ÊâæÂçïËØçÊï∞ÊçÆ\r\n    this.loadWordData(wordId)\r\n    this.loadWordStatus(wordId)\r\n  },\r\n  methods: {\r\n    loadWordData(wordId) {\r\n      const allWords = getCurrentBookWords()\r\n      this.wordData = allWords.find(word => word.id == wordId) || {}\r\n      \r\n      if (!this.wordData.id) {\r\n        uni.showToast({\r\n          title: 'ÂçïËØç‰∏çÂ≠òÂú®',\r\n          icon: 'error'\r\n        })\r\n        setTimeout(() => {\r\n          uni.navigateBack()\r\n        }, 1500)\r\n      }\r\n    },\r\n    \r\n    loadWordStatus(wordId) {\r\n      const learnedWords = getCurrentBookLearnedWords()\r\n      const wrongWords = getCurrentBookWrongWords()\r\n      \r\n      this.isLearned = learnedWords.some(word => word.id == wordId)\r\n      this.isWrong = wrongWords.some(word => word.id == wordId)\r\n    },\r\n    \r\n    playPronunciation() {\r\n      // ÁÆÄÂçïÁöÑÂèëÈü≥ÊèêÁ§∫\r\n      uni.showToast({\r\n        title: 'ÂèëÈü≥Ôºö' + this.wordData.word,\r\n        icon: 'none',\r\n        duration: 2000\r\n      })\r\n    },\r\n    \r\n    toggleLearned() {\r\n      if (this.isLearned) {\r\n        removeLearnedWordFromCurrentBook(this.wordData.id)\r\n        this.isLearned = false\r\n        uni.showToast({\r\n          title: 'Â∑≤ÁßªÂá∫Â∑≤Â≠¶ËØçÊ±á',\r\n          icon: 'success'\r\n        })\r\n      } else {\r\n        addLearnedWordToCurrentBook(this.wordData.id)\r\n        this.isLearned = true\r\n        uni.showToast({\r\n          title: 'Â∑≤Ê†áËÆ∞‰∏∫Â∑≤Â≠¶',\r\n          icon: 'success'\r\n        })\r\n      }\r\n    },\r\n    \r\n    toggleWrong() {\r\n      if (this.isWrong) {\r\n        removeWrongWordFromCurrentBook(this.wordData.id)\r\n        this.isWrong = false\r\n        uni.showToast({\r\n          title: 'Â∑≤ÁßªÂá∫ÈîôÈ¢ò',\r\n          icon: 'success'\r\n        })\r\n      } else {\r\n        addWrongWordToCurrentBook(this.wordData.id)\r\n        this.isWrong = true\r\n        uni.showToast({\r\n          title: 'Â∑≤Âä†ÂÖ•ÈîôÈ¢ò',\r\n          icon: 'success'\r\n        })\r\n      }\r\n    },\r\n    \r\n    continueNext() {\r\n      // ËøîÂõûÂà∞Â≠¶‰π†ÊàñÂ§ç‰π†È°µÈù¢\r\n      uni.navigateBack({\r\n        success: () => {\r\n          // ÈÄöËøá‰∫ã‰ª∂ÊàñÂÖ®Â±ÄÂèòÈáèÈÄöÁü•‰∏ä‰∏™È°µÈù¢ÁªßÁª≠‰∏ã‰∏ÄÈ¢ò\r\n          uni.$emit('continueNext')\r\n        }\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.container {\r\n  min-height: 100vh;\r\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\r\n  padding: 40rpx;\r\n}\r\n\r\n.word-card {\r\n  background: rgba(255, 255, 255, 0.95);\r\n  border-radius: 20rpx;\r\n  padding: 40rpx;\r\n  backdrop-filter: blur(10px);\r\n  box-shadow: 0 8rpx 32rpx rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.word-header {\r\n  text-align: center;\r\n  margin-bottom: 30rpx;\r\n  padding-bottom: 30rpx;\r\n  border-bottom: 2rpx solid #f0f0f0;\r\n}\r\n\r\n.word-title {\r\n  font-size: 64rpx;\r\n  font-weight: bold;\r\n  color: #333;\r\n  margin-bottom: 20rpx;\r\n}\r\n\r\n.word-pos {\r\n  font-size: 24rpx;\r\n  color: #666;\r\n  background: #f5f5f5;\r\n  padding: 8rpx 16rpx;\r\n  border-radius: 12rpx;\r\n  display: inline-block;\r\n}\r\n\r\n.pronunciation-section {\r\n  text-align: center;\r\n  margin-bottom: 40rpx;\r\n}\r\n\r\n.pronunciation-btn {\r\n  background: #4CAF50;\r\n  color: white;\r\n  border: none;\r\n  border-radius: 30rpx;\r\n  padding: 16rpx 32rpx;\r\n  font-size: 28rpx;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  gap: 10rpx;\r\n  width: 200rpx;\r\n  margin: 0 auto;\r\n}\r\n\r\n.icon {\r\n  font-size: 32rpx;\r\n}\r\n\r\n.meaning-section, .pos-section, .status-section {\r\n  margin-bottom: 40rpx;\r\n}\r\n\r\n.section-title {\r\n  font-size: 32rpx;\r\n  font-weight: bold;\r\n  color: #333;\r\n  margin-bottom: 20rpx;\r\n}\r\n\r\n.meaning-content {\r\n  font-size: 36rpx;\r\n  color: #444;\r\n  line-height: 1.6;\r\n  background: #f8f9fa;\r\n  padding: 20rpx;\r\n  border-radius: 12rpx;\r\n}\r\n\r\n.pos-tag {\r\n  background: #e3f2fd;\r\n  color: #1976d2;\r\n  padding: 12rpx 20rpx;\r\n  border-radius: 20rpx;\r\n  font-size: 28rpx;\r\n  display: inline-block;\r\n}\r\n\r\n.status-badges {\r\n  display: flex;\r\n  gap: 20rpx;\r\n}\r\n\r\n.status-badge {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8rpx;\r\n  padding: 12rpx 20rpx;\r\n  border-radius: 20rpx;\r\n  background: #f5f5f5;\r\n  color: #999;\r\n  font-size: 24rpx;\r\n}\r\n\r\n.status-badge.active {\r\n  background: #e8f5e8;\r\n  color: #4CAF50;\r\n}\r\n\r\n.badge-icon {\r\n  font-size: 20rpx;\r\n}\r\n\r\n.action-section {\r\n  display: flex;\r\n  gap: 20rpx;\r\n  margin-bottom: 40rpx;\r\n}\r\n\r\n.action-btn {\r\n  flex: 1;\r\n  height: 80rpx;\r\n  border: none;\r\n  border-radius: 40rpx;\r\n  font-size: 28rpx;\r\n  font-weight: bold;\r\n}\r\n\r\n.mark-btn {\r\n  background: #2196F3;\r\n  color: white;\r\n}\r\n\r\n.wrong-btn {\r\n  background: #FF9800;\r\n  color: white;\r\n}\r\n\r\n.continue-section {\r\n  text-align: center;\r\n  margin-top: 40rpx;\r\n}\r\n\r\n.continue-btn {\r\n  background: #4CAF50;\r\n  color: white;\r\n  border: none;\r\n  border-radius: 40rpx;\r\n  padding: 20rpx 40rpx;\r\n  font-size: 32rpx;\r\n  font-weight: bold;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  gap: 10rpx;\r\n  width: 300rpx;\r\n  margin: 0 auto;\r\n}\r\n\r\n.continue-icon {\r\n  font-size: 36rpx;\r\n}\r\n</style> ","import MiniProgramPage from 'G:/Â∏∏ÂòâÁ°ï/Â§ßÂ≠¶/‰∏≠ÂçóÂ§ßÂ≠¶/ÊÑèÂ§ßÂà©ËØ≠/WechatMiniTest/ËÆ∞ÊÑè Parli/pages/wordDetail/wordDetail.vue'\nwx.createPage(MiniProgramPage)"],"names":["posMap","getCurrentBookWords","uni","getCurrentBookLearnedWords","getCurrentBookWrongWords","removeLearnedWordFromCurrentBook","addLearnedWordToCurrentBook","removeWrongWordFromCurrentBook","addWrongWordToCurrentBook"],"mappings":";;;;AA6EA,MAAK,YAAU;AAAA,EACb,OAAO;AACL,WAAO;AAAA,MACL,UAAU,CAAE;AAAA,MACZ,WAAW;AAAA,MACX,SAAS;AAAA,MACT,cAAc;AAAA,MACd,UAAU;AAAA;AAAA,cACVA,eAAK;AAAA,IACP;AAAA,EACD;AAAA,EACD,OAAO,SAAS;AAEd,UAAM,EAAE,QAAQ,SAAS,IAAI;AAC7B,SAAK,WAAW,YAAY;AAC5B,SAAK,eAAgB,aAAa,WAAW,aAAa;AAG1D,SAAK,aAAa,MAAM;AACxB,SAAK,eAAe,MAAM;AAAA,EAC3B;AAAA,EACD,SAAS;AAAA,IACP,aAAa,QAAQ;AACnB,YAAM,WAAWC,eAAAA,oBAAoB;AACrC,WAAK,WAAW,SAAS,KAAK,UAAQ,KAAK,MAAM,MAAM,KAAK,CAAC;AAE7D,UAAI,CAAC,KAAK,SAAS,IAAI;AACrBC,sBAAAA,MAAI,UAAU;AAAA,UACZ,OAAO;AAAA,UACP,MAAM;AAAA,SACP;AACD,mBAAW,MAAM;AACfA,wBAAAA,MAAI,aAAa;AAAA,QAClB,GAAE,IAAI;AAAA,MACT;AAAA,IACD;AAAA,IAED,eAAe,QAAQ;AACrB,YAAM,eAAeC,eAAAA,2BAA2B;AAChD,YAAM,aAAaC,eAAAA,yBAAyB;AAE5C,WAAK,YAAY,aAAa,KAAK,UAAQ,KAAK,MAAM,MAAM;AAC5D,WAAK,UAAU,WAAW,KAAK,UAAQ,KAAK,MAAM,MAAM;AAAA,IACzD;AAAA,IAED,oBAAoB;AAElBF,oBAAAA,MAAI,UAAU;AAAA,QACZ,OAAO,QAAQ,KAAK,SAAS;AAAA,QAC7B,MAAM;AAAA,QACN,UAAU;AAAA,OACX;AAAA,IACF;AAAA,IAED,gBAAgB;AACd,UAAI,KAAK,WAAW;AAClBG,wDAAiC,KAAK,SAAS,EAAE;AACjD,aAAK,YAAY;AACjBH,sBAAAA,MAAI,UAAU;AAAA,UACZ,OAAO;AAAA,UACP,MAAM;AAAA,SACP;AAAA,aACI;AACLI,mDAA4B,KAAK,SAAS,EAAE;AAC5C,aAAK,YAAY;AACjBJ,sBAAAA,MAAI,UAAU;AAAA,UACZ,OAAO;AAAA,UACP,MAAM;AAAA,SACP;AAAA,MACH;AAAA,IACD;AAAA,IAED,cAAc;AACZ,UAAI,KAAK,SAAS;AAChBK,sDAA+B,KAAK,SAAS,EAAE;AAC/C,aAAK,UAAU;AACfL,sBAAAA,MAAI,UAAU;AAAA,UACZ,OAAO;AAAA,UACP,MAAM;AAAA,SACP;AAAA,aACI;AACLM,iDAA0B,KAAK,SAAS,EAAE;AAC1C,aAAK,UAAU;AACfN,sBAAAA,MAAI,UAAU;AAAA,UACZ,OAAO;AAAA,UACP,MAAM;AAAA,SACP;AAAA,MACH;AAAA,IACD;AAAA,IAED,eAAe;AAEbA,oBAAAA,MAAI,aAAa;AAAA,QACf,SAAS,MAAM;AAEbA,wBAAG,MAAC,MAAM,cAAc;AAAA,QAC1B;AAAA,OACD;AAAA,IACH;AAAA,EACF;AACF;;;;;;;;;;;;;;;;;;;;AChLA,GAAG,WAAW,eAAe;"}