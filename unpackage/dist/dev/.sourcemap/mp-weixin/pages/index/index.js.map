{"version":3,"file":"index.js","sources":["pages/index/index.vue","F:/HBuilderX.4.75.2025071105/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvaW5kZXgvaW5kZXgudnVl"],"sourcesContent":["<template>\n  <view class=\"container\">\n    <view class=\"header\">\n      <view class=\"app-title\">记意 Parli</view>\n      <view class=\"subtitle\">意大利语背单词</view>\n    </view>\n    \n    <!-- 当前书籍信息 -->\n    <view class=\"current-book-section\">\n      <view class=\"book-info\">\n        <view class=\"book-cover\">{{ currentBook.cover }}</view>\n        <view class=\"book-details\">\n          <view class=\"book-title\">{{ currentBook.title }}</view>\n          <view class=\"book-subtitle\">{{ currentBook.subtitle }}</view>\n          <view class=\"book-progress\">\n            <view class=\"progress-bar\">\n              <view \n                class=\"progress-fill\"\n                :style=\"{ width: progressPercent + '%' }\"\n              ></view>\n            </view>\n            <view class=\"progress-text\">{{ progressPercent }}% 完成</view>\n          </view>\n        </view>\n      </view>\n    </view>\n    \n    <!-- 学习统计 -->\n    <view class=\"stats-container\">\n      <view class=\"stat-card\">\n        <view class=\"stat-number\">{{ learnedCount }}</view>\n        <view class=\"stat-label\">已学单词</view>\n      </view>\n      <view class=\"stat-card\">\n        <view class=\"stat-number\">{{ wrongCount }}</view>\n        <view class=\"stat-label\">错题数量</view>\n      </view>\n      <view class=\"stat-card\">\n        <view class=\"stat-number\">{{ currentBook.wordCount }}</view>\n        <view class=\"stat-label\">总单词数</view>\n      </view>\n    </view>\n    \n    <!-- 功能按钮 -->\n    <view class=\"buttons-container\">\n      <view class=\"main-button learn-btn\" @click=\"goLearn\">\n        <view class=\"button-icon\">📚</view>\n        <view class=\"button-text\">\n          <view class=\"button-title\">开始学习</view>\n          <view class=\"button-desc\">学习新单词</view>\n        </view>\n      </view>\n      \n      <view class=\"main-button review-btn\" @click=\"goReview\">\n        <view class=\"button-icon\">🔄</view>\n        <view class=\"button-text\">\n          <view class=\"button-title\">复习模式</view>\n          <view class=\"button-desc\">复习错题 ({{ wrongCount }})</view>\n        </view>\n      </view>\n      \n      <view class=\"main-button quiz-btn\" @click=\"goQuiz\">\n        <view class=\"button-icon\">🎯</view>\n        <view class=\"button-text\">\n          <view class=\"button-title\">随机抽查</view>\n          <view class=\"button-desc\">检验学习成果</view>\n        </view>\n      </view>\n    </view>\n    \n    <!-- 学习建议 -->\n    <view class=\"suggestion-container\" v-if=\"suggestion\">\n      <view class=\"suggestion-icon\">💡</view>\n      <view class=\"suggestion-text\">{{ suggestion }}</view>\n    </view>\n  </view>\n</template>\n\n<script>\nimport { \n  getCurrentBook, \n  getCurrentBookWords, \n  getCurrentBookLearnedWords, \n  getCurrentBookWrongWords,\n  getBookProgress\n} from '@/utils/bookData.js'\n\nexport default {\n  data() {\n    return {\n      currentBook: {},\n      learnedCount: 0,\n      wrongCount: 0,\n      progressPercent: 0\n    }\n  },\n  computed: {\n    suggestion() {\n      if (this.wrongCount > 0) {\n        return `您有 ${this.wrongCount} 个错题需要复习，建议先复习巩固！`\n      } else if (this.learnedCount < 10) {\n        return '开始您的意大利语学习之旅吧！'\n      } else if (this.progressPercent < 50) {\n        return '学习进展不错，继续保持！'\n      } else if (this.progressPercent < 100) {\n        return '已经学习了一大半，加油完成这本书！'\n      } else {\n        return '恭喜完成这本书！可以尝试其他书籍或进行随机抽查！'\n      }\n    }\n  },\n  onShow() {\n    this.loadStats()\n  },\n  methods: {\n    loadStats() {\n      this.currentBook = getCurrentBook()\n      const learnedWords = getCurrentBookLearnedWords()\n      const wrongWords = getCurrentBookWrongWords()\n      \n      this.learnedCount = learnedWords.length\n      this.wrongCount = wrongWords.length\n      \n      // 计算进度百分比\n      if (this.currentBook.wordCount > 0) {\n        this.progressPercent = Math.round((this.learnedCount / this.currentBook.wordCount) * 100)\n      } else {\n        this.progressPercent = 0\n      }\n    },\n    \n    goLearn() {\n      uni.navigateTo({\n        url: '/pages/learn/learn'\n      })\n    },\n    \n    goReview() {\n      if (this.wrongCount === 0) {\n        uni.showToast({\n          title: '暂无错题需要复习',\n          icon: 'none'\n        })\n        return\n      }\n      \n      uni.navigateTo({\n        url: '/pages/review/review'\n      })\n    },\n    \n    goQuiz() {\n      const currentBookWords = getCurrentBookWords()\n      const learnedWords = getCurrentBookLearnedWords()\n      \n      if (currentBookWords.length === 0) {\n        uni.showToast({\n          title: '当前书籍没有单词',\n          icon: 'none'\n        })\n        return\n      }\n      \n      if (learnedWords.length < 5) {\n        uni.showModal({\n          title: '提示',\n          content: '建议至少学习5个单词后再进行随机抽查，这样测试效果会更好。',\n          confirmText: '继续测试',\n          cancelText: '去学习',\n          success: (res) => {\n            if (res.confirm) {\n              uni.navigateTo({\n                url: '/pages/quiz/quiz'\n              })\n            } else {\n              this.goLearn()\n            }\n          }\n        })\n        return\n      }\n      \n      uni.navigateTo({\n        url: '/pages/quiz/quiz'\n      })\n    }\n  }\n}\n</script>\n\n<style scoped>\n.container {\n  min-height: 100vh;\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n  padding: 60rpx 40rpx;\n  color: white;\n}\n\n.header {\n  text-align: center;\n  margin-bottom: 40rpx;\n}\n\n.app-title {\n  font-size: 72rpx;\n  font-weight: bold;\n  margin-bottom: 20rpx;\n  text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);\n}\n\n.subtitle {\n  font-size: 32rpx;\n  opacity: 0.9;\n  font-weight: 300;\n}\n\n.current-book-section {\n  background: rgba(255, 255, 255, 0.15);\n  border-radius: 24rpx;\n  padding: 40rpx;\n  margin-bottom: 40rpx;\n  backdrop-filter: blur(10px);\n  border: 1rpx solid rgba(255, 255, 255, 0.2);\n}\n\n.book-info {\n  display: flex;\n  align-items: center;\n  gap: 30rpx;\n}\n\n.book-cover {\n  font-size: 80rpx;\n  width: 120rpx;\n  height: 120rpx;\n  background: rgba(255, 255, 255, 0.2);\n  border-radius: 20rpx;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.book-details {\n  flex: 1;\n}\n\n.book-title {\n  font-size: 36rpx;\n  font-weight: bold;\n  margin-bottom: 10rpx;\n}\n\n.book-subtitle {\n  font-size: 24rpx;\n  opacity: 0.8;\n  margin-bottom: 20rpx;\n}\n\n.book-progress {\n  display: flex;\n  align-items: center;\n  gap: 20rpx;\n}\n\n.progress-bar {\n  flex: 1;\n  height: 8rpx;\n  background: rgba(255, 255, 255, 0.3);\n  border-radius: 4rpx;\n  overflow: hidden;\n}\n\n.progress-fill {\n  height: 100%;\n  background: #FFD700;\n  transition: width 0.3s ease;\n}\n\n.progress-text {\n  font-size: 24rpx;\n  opacity: 0.9;\n}\n\n.stats-container {\n  display: flex;\n  justify-content: space-between;\n  margin-bottom: 40rpx;\n  gap: 20rpx;\n}\n\n.stat-card {\n  flex: 1;\n  background: rgba(255, 255, 255, 0.15);\n  border-radius: 20rpx;\n  padding: 40rpx 20rpx;\n  text-align: center;\n  backdrop-filter: blur(10px);\n  border: 1rpx solid rgba(255, 255, 255, 0.2);\n}\n\n.stat-number {\n  font-size: 48rpx;\n  font-weight: bold;\n  margin-bottom: 10rpx;\n  color: #FFD700;\n}\n\n.stat-label {\n  font-size: 24rpx;\n  opacity: 0.8;\n}\n\n.buttons-container {\n  margin-bottom: 40rpx;\n}\n\n.main-button {\n  display: flex;\n  align-items: center;\n  background: rgba(255, 255, 255, 0.2);\n  border-radius: 20rpx;\n  padding: 40rpx;\n  margin-bottom: 30rpx;\n  backdrop-filter: blur(10px);\n  border: 1rpx solid rgba(255, 255, 255, 0.3);\n  transition: all 0.3s ease;\n}\n\n.main-button:active {\n  transform: scale(0.98);\n  background: rgba(255, 255, 255, 0.3);\n}\n\n.learn-btn {\n  background: linear-gradient(135deg, #4CAF50 0%, #45a049 100%);\n}\n\n.review-btn {\n  background: linear-gradient(135deg, #6c5ce7 0%, #a29bfe 100%);\n}\n\n.quiz-btn {\n  background: linear-gradient(135deg, #00cec9 0%, #55efc4 100%);\n}\n\n.button-icon {\n  font-size: 48rpx;\n  margin-right: 30rpx;\n}\n\n.button-text {\n  flex: 1;\n}\n\n.button-title {\n  font-size: 36rpx;\n  font-weight: bold;\n  margin-bottom: 8rpx;\n}\n\n.button-desc {\n  font-size: 28rpx;\n  opacity: 0.8;\n}\n\n.suggestion-container {\n  background: rgba(255, 255, 255, 0.1);\n  border-radius: 20rpx;\n  padding: 30rpx;\n  display: flex;\n  align-items: center;\n  backdrop-filter: blur(10px);\n  border: 1rpx solid rgba(255, 255, 255, 0.2);\n}\n\n.suggestion-icon {\n  font-size: 40rpx;\n  margin-right: 20rpx;\n}\n\n.suggestion-text {\n  font-size: 28rpx;\n  line-height: 1.5;\n  opacity: 0.9;\n}\n</style>\n","import MiniProgramPage from 'G:/常嘉硕/大学/中南大学/意大利语/WechatMiniTest/记意 Parli/pages/index/index.vue'\nwx.createPage(MiniProgramPage)"],"names":["getCurrentBook","getCurrentBookLearnedWords","getCurrentBookWrongWords","uni","getCurrentBookWords"],"mappings":";;;AAuFA,MAAK,YAAU;AAAA,EACb,OAAO;AACL,WAAO;AAAA,MACL,aAAa,CAAE;AAAA,MACf,cAAc;AAAA,MACd,YAAY;AAAA,MACZ,iBAAiB;AAAA,IACnB;AAAA,EACD;AAAA,EACD,UAAU;AAAA,IACR,aAAa;AACX,UAAI,KAAK,aAAa,GAAG;AACvB,eAAO,MAAM,KAAK,UAAU;AAAA,iBACnB,KAAK,eAAe,IAAI;AACjC,eAAO;AAAA,MACT,WAAW,KAAK,kBAAkB,IAAI;AACpC,eAAO;AAAA,MACT,WAAW,KAAK,kBAAkB,KAAK;AACrC,eAAO;AAAA,aACF;AACL,eAAO;AAAA,MACT;AAAA,IACF;AAAA,EACD;AAAA,EACD,SAAS;AACP,SAAK,UAAU;AAAA,EAChB;AAAA,EACD,SAAS;AAAA,IACP,YAAY;AACV,WAAK,cAAcA,8BAAe;AAClC,YAAM,eAAeC,eAAAA,2BAA2B;AAChD,YAAM,aAAaC,eAAAA,yBAAyB;AAE5C,WAAK,eAAe,aAAa;AACjC,WAAK,aAAa,WAAW;AAG7B,UAAI,KAAK,YAAY,YAAY,GAAG;AAClC,aAAK,kBAAkB,KAAK,MAAO,KAAK,eAAe,KAAK,YAAY,YAAa,GAAG;AAAA,aACnF;AACL,aAAK,kBAAkB;AAAA,MACzB;AAAA,IACD;AAAA,IAED,UAAU;AACRC,oBAAAA,MAAI,WAAW;AAAA,QACb,KAAK;AAAA,OACN;AAAA,IACF;AAAA,IAED,WAAW;AACT,UAAI,KAAK,eAAe,GAAG;AACzBA,sBAAAA,MAAI,UAAU;AAAA,UACZ,OAAO;AAAA,UACP,MAAM;AAAA,SACP;AACD;AAAA,MACF;AAEAA,oBAAAA,MAAI,WAAW;AAAA,QACb,KAAK;AAAA,OACN;AAAA,IACF;AAAA,IAED,SAAS;AACP,YAAM,mBAAmBC,eAAAA,oBAAoB;AAC7C,YAAM,eAAeH,eAAAA,2BAA2B;AAEhD,UAAI,iBAAiB,WAAW,GAAG;AACjCE,sBAAAA,MAAI,UAAU;AAAA,UACZ,OAAO;AAAA,UACP,MAAM;AAAA,SACP;AACD;AAAA,MACF;AAEA,UAAI,aAAa,SAAS,GAAG;AAC3BA,sBAAAA,MAAI,UAAU;AAAA,UACZ,OAAO;AAAA,UACP,SAAS;AAAA,UACT,aAAa;AAAA,UACb,YAAY;AAAA,UACZ,SAAS,CAAC,QAAQ;AAChB,gBAAI,IAAI,SAAS;AACfA,4BAAAA,MAAI,WAAW;AAAA,gBACb,KAAK;AAAA,eACN;AAAA,mBACI;AACL,mBAAK,QAAQ;AAAA,YACf;AAAA,UACF;AAAA,SACD;AACD;AAAA,MACF;AAEAA,oBAAAA,MAAI,WAAW;AAAA,QACb,KAAK;AAAA,OACN;AAAA,IACH;AAAA,EACF;AACF;;;;;;;;;;;;;;;;;;;;;AC1LA,GAAG,WAAW,eAAe;"}