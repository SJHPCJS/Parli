{"version":3,"file":"index.js","sources":["pages/index/index.vue","F:/HBuilderX.4.75.2025071105/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvaW5kZXgvaW5kZXgudnVl"],"sourcesContent":["<template>\r\n  <view class=\"container\">\r\n    <view class=\"header\">\r\n      <view class=\"app-title\">记意 Parli</view>\r\n      <view class=\"subtitle\">意大利语背单词</view>\r\n    </view>\r\n    \r\n    <!-- 当前书籍信息 -->\r\n    <view class=\"current-book-section\">\r\n      <view class=\"book-info\">\r\n        <view class=\"book-cover\">{{ currentBook.cover }}</view>\r\n        <view class=\"book-details\">\r\n          <view class=\"book-title\">{{ currentBook.title }}</view>\r\n          <view class=\"book-subtitle\">{{ currentBook.subtitle }}</view>\r\n          <view class=\"book-progress\">\r\n            <view class=\"progress-bar\">\r\n              <view \r\n                class=\"progress-fill\"\r\n                :style=\"{ width: progressPercent + '%' }\"\r\n              ></view>\r\n            </view>\r\n            <view class=\"progress-text\">{{ progressPercent }}% 完成</view>\r\n          </view>\r\n        </view>\r\n      </view>\r\n    </view>\r\n    \r\n    <!-- 学习统计 -->\r\n    <view class=\"stats-container\">\r\n      <view class=\"stat-card\">\r\n        <view class=\"stat-number\">{{ learnedCount }}</view>\r\n        <view class=\"stat-label\">已学单词</view>\r\n      </view>\r\n      <view class=\"stat-card\">\r\n        <view class=\"stat-number\">{{ wrongCount }}</view>\r\n        <view class=\"stat-label\">错题数量</view>\r\n      </view>\r\n      <view class=\"stat-card\">\r\n        <view class=\"stat-number\">{{ currentBook.wordCount }}</view>\r\n        <view class=\"stat-label\">总单词数</view>\r\n      </view>\r\n    </view>\r\n    \r\n    <!-- 功能按钮 -->\r\n    <view class=\"buttons-container\">\r\n      <view class=\"main-button learn-btn\" @click=\"goLearn\">\r\n        <view class=\"button-icon\">📚</view>\r\n        <view class=\"button-text\">\r\n          <view class=\"button-title\">开始学习</view>\r\n          <view class=\"button-desc\">学习新单词</view>\r\n        </view>\r\n      </view>\r\n      \r\n      <view class=\"main-button review-btn\" @click=\"goReview\">\r\n        <view class=\"button-icon\">🔄</view>\r\n        <view class=\"button-text\">\r\n          <view class=\"button-title\">复习模式</view>\r\n          <view class=\"button-desc\">复习错题 ({{ wrongCount }})</view>\r\n        </view>\r\n      </view>\r\n      \r\n      <view class=\"main-button quiz-btn\" @click=\"goQuiz\">\r\n        <view class=\"button-icon\">🎯</view>\r\n        <view class=\"button-text\">\r\n          <view class=\"button-title\">随机抽查</view>\r\n          <view class=\"button-desc\">检验学习成果</view>\r\n        </view>\r\n      </view>\r\n    </view>\r\n    \r\n    <!-- 学习建议 -->\r\n    <view class=\"suggestion-container\" v-if=\"suggestion\">\r\n      <view class=\"suggestion-icon\">💡</view>\r\n      <view class=\"suggestion-text\">{{ suggestion }}</view>\r\n    </view>\r\n  </view>\r\n</template>\r\n\r\n<script>\r\nimport { \r\n  getCurrentBook, \r\n  getCurrentBookWords, \r\n  getCurrentBookLearnedWords, \r\n  getCurrentBookWrongWords,\r\n  getBookProgress\r\n} from '@/utils/bookData.js'\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      currentBook: {},\r\n      learnedCount: 0,\r\n      wrongCount: 0,\r\n      progressPercent: 0\r\n    }\r\n  },\r\n  computed: {\r\n    suggestion() {\r\n      if (this.wrongCount > 0) {\r\n        return `您有 ${this.wrongCount} 个错题需要复习，建议先复习巩固！`\r\n      } else if (this.learnedCount < 10) {\r\n        return '开始您的意大利语学习之旅吧！'\r\n      } else if (this.progressPercent < 50) {\r\n        return '学习进展不错，继续保持！'\r\n      } else if (this.progressPercent < 100) {\r\n        return '已经学习了一大半，加油完成这本书！'\r\n      } else {\r\n        return '恭喜完成这本书！可以尝试其他书籍或进行随机抽查！'\r\n      }\r\n    }\r\n  },\r\n  onShow() {\r\n    this.loadStats()\r\n  },\r\n  methods: {\r\n    loadStats() {\r\n      this.currentBook = getCurrentBook()\r\n      const learnedWords = getCurrentBookLearnedWords()\r\n      const wrongWords = getCurrentBookWrongWords()\r\n      \r\n      this.learnedCount = learnedWords.length\r\n      this.wrongCount = wrongWords.length\r\n      \r\n      // 计算进度百分比\r\n      if (this.currentBook.wordCount > 0) {\r\n        this.progressPercent = Math.round((this.learnedCount / this.currentBook.wordCount) * 100)\r\n      } else {\r\n        this.progressPercent = 0\r\n      }\r\n    },\r\n    \r\n    goLearn() {\r\n      uni.navigateTo({\r\n        url: '/pages/learn/learn'\r\n      })\r\n    },\r\n    \r\n    goReview() {\r\n      if (this.wrongCount === 0) {\r\n        uni.showToast({\r\n          title: '暂无错题需要复习',\r\n          icon: 'none'\r\n        })\r\n        return\r\n      }\r\n      \r\n      uni.navigateTo({\r\n        url: '/pages/review/review'\r\n      })\r\n    },\r\n    \r\n    goQuiz() {\r\n      const currentBookWords = getCurrentBookWords()\r\n      const learnedWords = getCurrentBookLearnedWords()\r\n      \r\n      if (currentBookWords.length === 0) {\r\n        uni.showToast({\r\n          title: '当前书籍没有单词',\r\n          icon: 'none'\r\n        })\r\n        return\r\n      }\r\n      \r\n      if (learnedWords.length < 5) {\r\n        uni.showModal({\r\n          title: '提示',\r\n          content: '建议至少学习5个单词后再进行随机抽查，这样测试效果会更好。',\r\n          confirmText: '继续测试',\r\n          cancelText: '去学习',\r\n          success: (res) => {\r\n            if (res.confirm) {\r\n              uni.navigateTo({\r\n                url: '/pages/quiz/quiz'\r\n              })\r\n            } else {\r\n              this.goLearn()\r\n            }\r\n          }\r\n        })\r\n        return\r\n      }\r\n      \r\n      uni.navigateTo({\r\n        url: '/pages/quiz/quiz'\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.container {\r\n  min-height: 100vh;\r\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\r\n  padding: 60rpx 40rpx;\r\n  color: white;\r\n}\r\n\r\n.header {\r\n  text-align: center;\r\n  margin-bottom: 40rpx;\r\n}\r\n\r\n.app-title {\r\n  font-size: 72rpx;\r\n  font-weight: bold;\r\n  margin-bottom: 20rpx;\r\n  text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);\r\n}\r\n\r\n.subtitle {\r\n  font-size: 32rpx;\r\n  opacity: 0.9;\r\n  font-weight: 300;\r\n}\r\n\r\n.current-book-section {\r\n  background: rgba(255, 255, 255, 0.15);\r\n  border-radius: 24rpx;\r\n  padding: 40rpx;\r\n  margin-bottom: 40rpx;\r\n  backdrop-filter: blur(10px);\r\n  border: 1rpx solid rgba(255, 255, 255, 0.2);\r\n}\r\n\r\n.book-info {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 30rpx;\r\n}\r\n\r\n.book-cover {\r\n  font-size: 80rpx;\r\n  width: 120rpx;\r\n  height: 120rpx;\r\n  background: rgba(255, 255, 255, 0.2);\r\n  border-radius: 20rpx;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n\r\n.book-details {\r\n  flex: 1;\r\n}\r\n\r\n.book-title {\r\n  font-size: 36rpx;\r\n  font-weight: bold;\r\n  margin-bottom: 10rpx;\r\n}\r\n\r\n.book-subtitle {\r\n  font-size: 24rpx;\r\n  opacity: 0.8;\r\n  margin-bottom: 20rpx;\r\n}\r\n\r\n.book-progress {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 20rpx;\r\n}\r\n\r\n.progress-bar {\r\n  flex: 1;\r\n  height: 8rpx;\r\n  background: rgba(255, 255, 255, 0.3);\r\n  border-radius: 4rpx;\r\n  overflow: hidden;\r\n}\r\n\r\n.progress-fill {\r\n  height: 100%;\r\n  background: #FFD700;\r\n  transition: width 0.3s ease;\r\n}\r\n\r\n.progress-text {\r\n  font-size: 24rpx;\r\n  opacity: 0.9;\r\n}\r\n\r\n.stats-container {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  margin-bottom: 40rpx;\r\n  gap: 20rpx;\r\n}\r\n\r\n.stat-card {\r\n  flex: 1;\r\n  background: rgba(255, 255, 255, 0.15);\r\n  border-radius: 20rpx;\r\n  padding: 40rpx 20rpx;\r\n  text-align: center;\r\n  backdrop-filter: blur(10px);\r\n  border: 1rpx solid rgba(255, 255, 255, 0.2);\r\n}\r\n\r\n.stat-number {\r\n  font-size: 48rpx;\r\n  font-weight: bold;\r\n  margin-bottom: 10rpx;\r\n  color: #FFD700;\r\n}\r\n\r\n.stat-label {\r\n  font-size: 24rpx;\r\n  opacity: 0.8;\r\n}\r\n\r\n.buttons-container {\r\n  margin-bottom: 40rpx;\r\n}\r\n\r\n.main-button {\r\n  display: flex;\r\n  align-items: center;\r\n  background: rgba(255, 255, 255, 0.2);\r\n  border-radius: 20rpx;\r\n  padding: 40rpx;\r\n  margin-bottom: 30rpx;\r\n  backdrop-filter: blur(10px);\r\n  border: 1rpx solid rgba(255, 255, 255, 0.3);\r\n  transition: all 0.3s ease;\r\n}\r\n\r\n.main-button:active {\r\n  transform: scale(0.98);\r\n  background: rgba(255, 255, 255, 0.3);\r\n}\r\n\r\n.learn-btn {\r\n  background: linear-gradient(135deg, #4CAF50 0%, #45a049 100%);\r\n}\r\n\r\n.review-btn {\r\n  background: linear-gradient(135deg, #6c5ce7 0%, #a29bfe 100%);\r\n}\r\n\r\n.quiz-btn {\r\n  background: linear-gradient(135deg, #00cec9 0%, #55efc4 100%);\r\n}\r\n\r\n.button-icon {\r\n  font-size: 48rpx;\r\n  margin-right: 30rpx;\r\n}\r\n\r\n.button-text {\r\n  flex: 1;\r\n}\r\n\r\n.button-title {\r\n  font-size: 36rpx;\r\n  font-weight: bold;\r\n  margin-bottom: 8rpx;\r\n}\r\n\r\n.button-desc {\r\n  font-size: 28rpx;\r\n  opacity: 0.8;\r\n}\r\n\r\n.suggestion-container {\r\n  background: rgba(255, 255, 255, 0.1);\r\n  border-radius: 20rpx;\r\n  padding: 30rpx;\r\n  display: flex;\r\n  align-items: center;\r\n  backdrop-filter: blur(10px);\r\n  border: 1rpx solid rgba(255, 255, 255, 0.2);\r\n}\r\n\r\n.suggestion-icon {\r\n  font-size: 40rpx;\r\n  margin-right: 20rpx;\r\n}\r\n\r\n.suggestion-text {\r\n  font-size: 28rpx;\r\n  line-height: 1.5;\r\n  opacity: 0.9;\r\n}\r\n</style>\r\n","import MiniProgramPage from 'G:/常嘉硕/大学/中南大学/意大利语/WechatMiniTest/记意 Parli/pages/index/index.vue'\nwx.createPage(MiniProgramPage)"],"names":["getCurrentBook","getCurrentBookLearnedWords","getCurrentBookWrongWords","uni","getCurrentBookWords"],"mappings":";;;AAuFA,MAAK,YAAU;AAAA,EACb,OAAO;AACL,WAAO;AAAA,MACL,aAAa,CAAE;AAAA,MACf,cAAc;AAAA,MACd,YAAY;AAAA,MACZ,iBAAiB;AAAA,IACnB;AAAA,EACD;AAAA,EACD,UAAU;AAAA,IACR,aAAa;AACX,UAAI,KAAK,aAAa,GAAG;AACvB,eAAO,MAAM,KAAK,UAAU;AAAA,iBACnB,KAAK,eAAe,IAAI;AACjC,eAAO;AAAA,MACT,WAAW,KAAK,kBAAkB,IAAI;AACpC,eAAO;AAAA,MACT,WAAW,KAAK,kBAAkB,KAAK;AACrC,eAAO;AAAA,aACF;AACL,eAAO;AAAA,MACT;AAAA,IACF;AAAA,EACD;AAAA,EACD,SAAS;AACP,SAAK,UAAU;AAAA,EAChB;AAAA,EACD,SAAS;AAAA,IACP,YAAY;AACV,WAAK,cAAcA,8BAAe;AAClC,YAAM,eAAeC,eAAAA,2BAA2B;AAChD,YAAM,aAAaC,eAAAA,yBAAyB;AAE5C,WAAK,eAAe,aAAa;AACjC,WAAK,aAAa,WAAW;AAG7B,UAAI,KAAK,YAAY,YAAY,GAAG;AAClC,aAAK,kBAAkB,KAAK,MAAO,KAAK,eAAe,KAAK,YAAY,YAAa,GAAG;AAAA,aACnF;AACL,aAAK,kBAAkB;AAAA,MACzB;AAAA,IACD;AAAA,IAED,UAAU;AACRC,oBAAAA,MAAI,WAAW;AAAA,QACb,KAAK;AAAA,OACN;AAAA,IACF;AAAA,IAED,WAAW;AACT,UAAI,KAAK,eAAe,GAAG;AACzBA,sBAAAA,MAAI,UAAU;AAAA,UACZ,OAAO;AAAA,UACP,MAAM;AAAA,SACP;AACD;AAAA,MACF;AAEAA,oBAAAA,MAAI,WAAW;AAAA,QACb,KAAK;AAAA,OACN;AAAA,IACF;AAAA,IAED,SAAS;AACP,YAAM,mBAAmBC,eAAAA,oBAAoB;AAC7C,YAAM,eAAeH,eAAAA,2BAA2B;AAEhD,UAAI,iBAAiB,WAAW,GAAG;AACjCE,sBAAAA,MAAI,UAAU;AAAA,UACZ,OAAO;AAAA,UACP,MAAM;AAAA,SACP;AACD;AAAA,MACF;AAEA,UAAI,aAAa,SAAS,GAAG;AAC3BA,sBAAAA,MAAI,UAAU;AAAA,UACZ,OAAO;AAAA,UACP,SAAS;AAAA,UACT,aAAa;AAAA,UACb,YAAY;AAAA,UACZ,SAAS,CAAC,QAAQ;AAChB,gBAAI,IAAI,SAAS;AACfA,4BAAAA,MAAI,WAAW;AAAA,gBACb,KAAK;AAAA,eACN;AAAA,mBACI;AACL,mBAAK,QAAQ;AAAA,YACf;AAAA,UACF;AAAA,SACD;AACD;AAAA,MACF;AAEAA,oBAAAA,MAAI,WAAW;AAAA,QACb,KAAK;AAAA,OACN;AAAA,IACH;AAAA,EACF;AACF;;;;;;;;;;;;;;;;;;;;;AC1LA,GAAG,WAAW,eAAe;"}