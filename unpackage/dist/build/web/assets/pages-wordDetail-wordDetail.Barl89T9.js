import{s as a,A as s,B as t,c as e,w as o,i as l,o as i,d as n,e as d,t as c,l as r,r as u,F as f,g as _,m as g,p as m,z as h}from"./index-B7OQiFPg.js";import{p as w,l as p,n as D,o as x,t as y,u as k,k as C,r as W,j as b}from"./bookData.ioIksG53.js";import{_ as M}from"./_plugin-vue_export-helper.BCo6x5W8.js";const q=M({data:()=>({wordData:{},isLearned:!1,isWrong:!1,showContinue:!1,fromPage:"",queryMode:!1,posMap:w}),onLoad(a){const{wordId:s,fromPage:t,queryMode:e}=a;this.fromPage=t||"search",this.queryMode="true"===e,this.showContinue=("learn"===t||"review"===t)&&!this.queryMode,this.loadWordData(s),this.queryMode||this.loadWordStatus(s)},methods:{loadWordData(t){const e=p(t);if(e)this.wordData={...e,meanings:e.meanings||[e.meaning],examples:e.examples||[],fullContent:e.fullContent||""};else{const a=D();this.wordData=a.find((a=>a.id==t))||{},this.wordData.id&&(this.wordData.meanings=this.wordData.meanings||[this.wordData.meaning],this.wordData.examples=this.wordData.examples||[],this.wordData.fullContent=this.wordData.fullContent||"")}this.wordData.id||(a({title:"单词不存在",icon:"error"}),setTimeout((()=>{s()}),1500))},loadWordStatus(a){const s=x(),t=y();this.isLearned=s.some((s=>s.id==a)),this.isWrong=t.some((s=>s.id==a))},toggleLearned(){this.queryMode?a({title:"查词模式下无法操作",icon:"none"}):this.isLearned?(k(this.wordData.id),this.isLearned=!1,a({title:"已移出已学词汇",icon:"success"})):(C(this.wordData.id),this.isLearned=!0,a({title:"已标记为已学",icon:"success"}))},toggleWrong(){this.queryMode?a({title:"查词模式下无法操作",icon:"none"}):this.isWrong?(W(this.wordData.id),this.isWrong=!1,a({title:"已移出错题",icon:"success"})):(b(this.wordData.id),this.isWrong=!0,a({title:"已加入错题",icon:"success"}))},continueNext(){s({success:()=>{t("continueNext")}})}}},[["render",function(a,s,t,w,p,D){const x=l,y=m,k=h;return i(),e(x,{class:"container"},{default:o((()=>[n(x,{class:"word-card"},{default:o((()=>[n(x,{class:"word-header"},{default:o((()=>[n(x,{class:"word-title"},{default:o((()=>[d(c(p.wordData.word),1)])),_:1}),n(x,{class:"word-meta"},{default:o((()=>[n(x,{class:"word-pos"},{default:o((()=>[d(c(p.posMap[p.wordData.pos]||p.wordData.pos),1)])),_:1}),n(x,{class:"word-id"},{default:o((()=>[d("ID: "+c(p.wordData.id),1)])),_:1})])),_:1})])),_:1}),n(x,{class:"meanings-section"},{default:o((()=>[n(x,{class:"section-title"},{default:o((()=>[d("📝 释义")])),_:1}),n(x,{class:"meanings-list"},{default:o((()=>[(i(!0),r(f,null,u(p.wordData.meanings,((a,s)=>(i(),e(x,{key:s,class:"meaning-item"},{default:o((()=>[n(x,{class:"meaning-number"},{default:o((()=>[d(c(s+1),1)])),_:2},1024),n(x,{class:"meaning-text"},{default:o((()=>[d(c(a),1)])),_:2},1024)])),_:2},1024)))),128))])),_:1})])),_:1}),p.wordData.examples&&p.wordData.examples.length>0?(i(),e(x,{key:0,class:"examples-section"},{default:o((()=>[n(x,{class:"section-title"},{default:o((()=>[d("💡 例句")])),_:1}),n(x,{class:"examples-list"},{default:o((()=>[(i(!0),r(f,null,u(p.wordData.examples,((a,s)=>(i(),e(x,{key:s,class:"example-item"},{default:o((()=>[d(c(a),1)])),_:2},1024)))),128))])),_:1})])),_:1})):_("",!0),p.wordData.fullContent?(i(),e(x,{key:1,class:"full-content-section"},{default:o((()=>[n(x,{class:"section-title"},{default:o((()=>[d("📚 完整释义")])),_:1}),n(x,{class:"full-content-text"},{default:o((()=>[d(c(p.wordData.fullContent),1)])),_:1})])),_:1})):_("",!0),p.queryMode?_("",!0):(i(),e(x,{key:2,class:"status-section"},{default:o((()=>[n(x,{class:"section-title"},{default:o((()=>[d("学习状态")])),_:1}),n(x,{class:"status-badges"},{default:o((()=>[n(x,{class:g(["status-badge",{active:p.isLearned}])},{default:o((()=>[n(y,{class:"badge-icon"},{default:o((()=>[d("✓")])),_:1}),n(y,null,{default:o((()=>[d("已学会")])),_:1})])),_:1},8,["class"]),n(x,{class:g(["status-badge",{active:p.isWrong}])},{default:o((()=>[n(y,{class:"badge-icon"},{default:o((()=>[d("✗")])),_:1}),n(y,null,{default:o((()=>[d("错题")])),_:1})])),_:1},8,["class"])])),_:1})])),_:1})),p.queryMode?(i(),e(x,{key:3,class:"query-tip"},{default:o((()=>[n(y,{class:"tip-icon"},{default:o((()=>[d("📖")])),_:1}),n(y,{class:"tip-text"},{default:o((()=>[d("当前为查词模式，不会影响学习进度")])),_:1})])),_:1})):_("",!0),p.queryMode?_("",!0):(i(),e(x,{key:4,class:"action-section"},{default:o((()=>[n(k,{class:"action-btn mark-btn",onClick:D.toggleLearned},{default:o((()=>[d(c(p.isLearned?"标记为未学":"标记为已学"),1)])),_:1},8,["onClick"]),n(k,{class:"action-btn wrong-btn",onClick:D.toggleWrong},{default:o((()=>[d(c(p.isWrong?"移出错题":"加入错题"),1)])),_:1},8,["onClick"])])),_:1})),p.showContinue?(i(),e(x,{key:5,class:"continue-section"},{default:o((()=>[n(k,{class:"continue-btn",onClick:D.continueNext},{default:o((()=>[n(y,{class:"continue-icon"},{default:o((()=>[d("→")])),_:1}),n(y,null,{default:o((()=>[d("继续下一个")])),_:1})])),_:1},8,["onClick"])])),_:1})):_("",!0)])),_:1})])),_:1})}],["__scopeId","data-v-ceedc067"]]);export{q as default};
