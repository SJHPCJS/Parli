import{b as e,h as t,s,n as a,c as l,w as r,i as o,o as i,d,e as c,t as u,l as n,r as h,F as p,I as f,p as w,S as y,m as _,g}from"./index-B7OQiFPg.js";import{p as m,a as T,b,v as L}from"./bookData.ioIksG53.js";import{_ as k}from"./_plugin-vue_export-helper.BCo6x5W8.js";const I=k({data:()=>({listType:"all",words:[],searchQuery:"",currentLetter:"",scrollIntoView:"",posMap:m||{},alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ".split("")}),computed:{pageTitle(){return{learned:"✅ 已学单词",wrong:"❌ 错题本",all:"📖 所有单词"}[this.listType]||"单词列表"},emptyText(){return{learned:"还没有学过任何单词，去学习吧！",wrong:"没有错题，学习状态很好！",all:"没有找到单词数据"}[this.listType]||"暂无数据"},filteredWords(){if(!this.searchQuery)return this.words;const e=this.searchQuery.toLowerCase();return this.words.filter((t=>t.word.toLowerCase().includes(e)||t.meaning.includes(this.searchQuery)))},letterGroups(){const e={};return this.alphabet.forEach((t=>{e[t]=[]})),this.filteredWords.forEach((t=>{const s=t.word.charAt(0).toUpperCase();this.alphabet.includes(s)?e[s].push(t):e.Z.push(t)})),Object.keys(e).forEach((t=>{e[t].sort(((e,t)=>e.word.localeCompare(t.word)))})),e},sortedLetters(){return this.alphabet.filter((e=>this.letterGroups[e]&&this.letterGroups[e].length>0))}},onLoad(e){this.listType=e.type||"all",this.loadWords()},methods:{async loadWords(){try{e({title:"加载中..."});let s=[];s="learned"===this.listType?await T():"wrong"===this.listType?await b():await L(),this.words=s.filter((e=>e&&e.id&&e.word)),t()}catch(a){console.error("加载单词列表失败:",a),t(),s({title:"加载失败",icon:"error"})}},onSearchInput(){this.currentLetter=""},scrollToLetter(e){this.letterGroups[e]&&this.letterGroups[e].length>0&&(this.currentLetter=e,this.scrollIntoView=`letter-${e}`)},getStatusClass(e){return"learned"===this.listType?"learned":"wrong"===this.listType?"wrong":""},getStatusText(e){return"learned"===this.listType?"已学会":"wrong"===this.listType?"需复习":""},goToWordDetail(e){a({url:`/pages/wordDetail/wordDetail?wordId=${e.id}&fromPage=wordList&queryMode=true`})}}},[["render",function(e,t,s,a,m,T){const b=o,L=f,k=w,I=y;return i(),l(b,{class:"container"},{default:r((()=>[d(b,{class:"header"},{default:r((()=>[d(b,{class:"title"},{default:r((()=>[c(u(T.pageTitle),1)])),_:1}),d(b,{class:"count"},{default:r((()=>[c("共 "+u(T.filteredWords.length)+" 个单词",1)])),_:1})])),_:1}),d(b,{class:"search-section"},{default:r((()=>[d(b,{class:"search-bar"},{default:r((()=>[d(L,{modelValue:m.searchQuery,"onUpdate:modelValue":t[0]||(t[0]=e=>m.searchQuery=e),placeholder:"搜索单词...",class:"search-input",onInput:T.onSearchInput},null,8,["modelValue","onInput"]),d(k,{class:"search-icon"},{default:r((()=>[c("🔍")])),_:1})])),_:1})])),_:1}),d(b,{class:"alphabet-nav"},{default:r((()=>[(i(!0),n(p,null,h(m.alphabet,(e=>(i(),l(b,{key:e,class:_(["alphabet-item",{active:m.currentLetter===e,"has-words":T.letterGroups[e]&&T.letterGroups[e].length>0}]),onClick:t=>T.scrollToLetter(e)},{default:r((()=>[c(u(e),1)])),_:2},1032,["class","onClick"])))),128))])),_:1}),d(I,{class:"word-list","scroll-y":"true","scroll-into-view":m.scrollIntoView},{default:r((()=>[0===T.filteredWords.length?(i(),l(b,{key:0,class:"empty-state"},{default:r((()=>[d(b,{class:"empty-icon"},{default:r((()=>[c("📝")])),_:1}),d(b,{class:"empty-text"},{default:r((()=>[c(u(T.emptyText),1)])),_:1})])),_:1})):(i(),l(b,{key:1},{default:r((()=>[(i(!0),n(p,null,h(T.sortedLetters,(e=>(i(),l(b,{key:e,class:"letter-section",id:`letter-${e}`},{default:r((()=>[d(b,{class:"letter-header"},{default:r((()=>[c(u(e),1)])),_:2},1024),d(b,{class:"words-group"},{default:r((()=>[(i(!0),n(p,null,h(T.letterGroups[e],(e=>(i(),l(b,{key:e.id,class:"word-item",onClick:t=>T.goToWordDetail(e)},{default:r((()=>[d(b,{class:"word-left"},{default:r((()=>[d(b,{class:"italian-word"},{default:r((()=>[c(u(e.word),1)])),_:2},1024),d(b,{class:"word-meta"},{default:r((()=>[d(k,{class:"pos-tag"},{default:r((()=>[c(u(m.posMap[e.pos]||e.pos),1)])),_:2},1024),d(k,{class:"word-id"},{default:r((()=>[c("ID: "+u(e.id),1)])),_:2},1024)])),_:2},1024)])),_:2},1024),d(b,{class:"word-right"},{default:r((()=>[d(b,{class:"chinese-meaning"},{default:r((()=>[c(u(e.meaning),1)])),_:2},1024),"all"!==m.listType?(i(),l(b,{key:0,class:"word-status"},{default:r((()=>[d(k,{class:_(["status-dot",T.getStatusClass(e)])},null,8,["class"]),d(k,{class:"status-text"},{default:r((()=>[c(u(T.getStatusText(e)),1)])),_:2},1024)])),_:2},1024)):g("",!0)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:2},1024)])),_:2},1032,["id"])))),128))])),_:1}))])),_:1},8,["scroll-into-view"])])),_:1})}],["__scopeId","data-v-93b56fd2"]]);export{I as default};
