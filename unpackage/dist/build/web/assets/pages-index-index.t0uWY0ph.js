import{$ as t,a as s,n as e,s as a,b as o,h as l,c as n,w as r,i as u,o as c,d as i,e as d,t as g,f,g as _}from"./index-B7OQiFPg.js";import{g as b,a as p,b as h}from"./bookData.ioIksG53.js";import{_ as w}from"./_plugin-vue_export-helper.BCo6x5W8.js";const C=w({data:()=>({currentBook:{},learnedCount:0,wrongCount:0,progressPercent:0}),computed:{suggestion(){return this.wrongCount>0?`æ‚¨æœ‰ ${this.wrongCount} ä¸ªé”™é¢˜éœ€è¦å¤ä¹ ï¼Œå»ºè®®å…ˆå¤ä¹ å·©å›ºï¼`:this.learnedCount<10?"å¼€å§‹æ‚¨çš„æ„å¤§åˆ©è¯­å­¦ä¹ ä¹‹æ—…å§ï¼":this.progressPercent<50?"å­¦ä¹ è¿›å±•ä¸é”™ï¼Œç»§ç»­ä¿æŒï¼":this.progressPercent<100?"å·²ç»å­¦ä¹ äº†ä¸€å¤§åŠï¼ŒåŠ æ²¹å®Œæˆè¿™æœ¬ä¹¦ï¼":"æ­å–œå®Œæˆè¿™æœ¬ä¹¦ï¼å¯ä»¥å°è¯•å…¶ä»–ä¹¦ç±æˆ–è¿›è¡ŒéšæœºæŠ½æŸ¥ï¼"}},onShow(){this.loadStats()},onLoad(){t("learningComplete",(()=>{this.loadStats()}))},onUnload(){s("learningComplete")},methods:{async loadStats(){try{this.currentBook=await b();const t=await p(),s=await h();this.learnedCount=t.length,this.wrongCount=s.length,this.currentBook&&this.currentBook.wordCount>0?this.progressPercent=Math.round(this.learnedCount/this.currentBook.wordCount*100):this.progressPercent=0}catch(t){console.error("åŠ è½½ç»Ÿè®¡æ•°æ®å¤±è´¥:",t),this.learnedCount=0,this.wrongCount=0,this.progressPercent=0,this.currentBook={title:"æ„å¤§åˆ©è¯­è¯å…¸",wordCount:0,cover:"ğŸ“–"}}},goLearn(){e({url:"/pages/learn/learn"})},goReview(){0!==this.wrongCount?e({url:"/pages/review/review"}):a({title:"æš‚æ— é”™é¢˜éœ€è¦å¤ä¹ ",icon:"none"})},goQuiz(){e({url:"/pages/quiz/quiz"})},goWordList(t){"all"===t?(o({title:"åŠ è½½ä¸­..."}),setTimeout((()=>{l(),e({url:`/pages/wordList/wordList?type=${t}`})}),300)):e({url:`/pages/wordList/wordList?type=${t}`})}}},[["render",function(t,s,e,a,o,l){const b=u;return c(),n(b,{class:"container"},{default:r((()=>[i(b,{class:"header"},{default:r((()=>[i(b,{class:"app-title"},{default:r((()=>[d("è®°æ„ Parli")])),_:1}),i(b,{class:"subtitle"},{default:r((()=>[d("æ„å¤§åˆ©è¯­èƒŒå•è¯")])),_:1})])),_:1}),i(b,{class:"current-book-section"},{default:r((()=>[i(b,{class:"book-info"},{default:r((()=>[i(b,{class:"book-cover"},{default:r((()=>[d(g(o.currentBook.cover),1)])),_:1}),i(b,{class:"book-details"},{default:r((()=>[i(b,{class:"book-title"},{default:r((()=>[d(g(o.currentBook.title),1)])),_:1}),i(b,{class:"book-subtitle"},{default:r((()=>[d(g(o.currentBook.subtitle),1)])),_:1}),i(b,{class:"book-progress"},{default:r((()=>[i(b,{class:"progress-bar"},{default:r((()=>[i(b,{class:"progress-fill",style:f({width:o.progressPercent+"%"})},null,8,["style"])])),_:1}),i(b,{class:"progress-text"},{default:r((()=>[d(g(o.progressPercent)+"% å®Œæˆ",1)])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),i(b,{class:"stats-container"},{default:r((()=>[i(b,{class:"stat-card",onClick:s[0]||(s[0]=t=>l.goWordList("learned"))},{default:r((()=>[i(b,{class:"stat-number"},{default:r((()=>[d(g(o.learnedCount),1)])),_:1}),i(b,{class:"stat-label"},{default:r((()=>[d("å·²å­¦å•è¯")])),_:1})])),_:1}),i(b,{class:"stat-card",onClick:s[1]||(s[1]=t=>l.goWordList("wrong"))},{default:r((()=>[i(b,{class:"stat-number"},{default:r((()=>[d(g(o.wrongCount),1)])),_:1}),i(b,{class:"stat-label"},{default:r((()=>[d("é”™é¢˜æ•°é‡")])),_:1})])),_:1}),i(b,{class:"stat-card"},{default:r((()=>[i(b,{class:"stat-number"},{default:r((()=>[d(g(o.currentBook.wordCount),1)])),_:1}),i(b,{class:"stat-label"},{default:r((()=>[d("æ€»å•è¯æ•°")])),_:1})])),_:1})])),_:1}),i(b,{class:"buttons-container"},{default:r((()=>[i(b,{class:"main-button learn-btn",onClick:l.goLearn},{default:r((()=>[i(b,{class:"button-icon"},{default:r((()=>[d("ğŸ“š")])),_:1}),i(b,{class:"button-text"},{default:r((()=>[i(b,{class:"button-title"},{default:r((()=>[d("å¼€å§‹å­¦ä¹ ")])),_:1}),i(b,{class:"button-desc"},{default:r((()=>[d("å­¦ä¹ æ–°å•è¯")])),_:1})])),_:1})])),_:1},8,["onClick"]),i(b,{class:"main-button review-btn",onClick:l.goReview},{default:r((()=>[i(b,{class:"button-icon"},{default:r((()=>[d("ğŸ”„")])),_:1}),i(b,{class:"button-text"},{default:r((()=>[i(b,{class:"button-title"},{default:r((()=>[d("å¤ä¹ æ¨¡å¼")])),_:1}),i(b,{class:"button-desc"},{default:r((()=>[d("å¤ä¹ é”™é¢˜ ("+g(o.wrongCount)+")",1)])),_:1})])),_:1})])),_:1},8,["onClick"]),i(b,{class:"main-button quiz-btn",onClick:l.goQuiz},{default:r((()=>[i(b,{class:"button-icon"},{default:r((()=>[d("ğŸ¯")])),_:1}),i(b,{class:"button-text"},{default:r((()=>[i(b,{class:"button-title"},{default:r((()=>[d("éšæœºæŠ½æŸ¥")])),_:1}),i(b,{class:"button-desc"},{default:r((()=>[d("æ£€éªŒå­¦ä¹ æˆæœ")])),_:1})])),_:1})])),_:1},8,["onClick"])])),_:1}),l.suggestion?(c(),n(b,{key:0,class:"suggestion-container"},{default:r((()=>[i(b,{class:"suggestion-icon"},{default:r((()=>[d("ğŸ’¡")])),_:1}),i(b,{class:"suggestion-text"},{default:r((()=>[d(g(l.suggestion),1)])),_:1})])),_:1})):_("",!0)])),_:1})}],["__scopeId","data-v-c2dd45d0"]]);export{C as default};
