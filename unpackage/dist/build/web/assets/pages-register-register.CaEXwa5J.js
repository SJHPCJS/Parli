import{s as a,Q as s,C as e,A as r,c as o,w as l,i as t,o as i,d as n,e as d,m,t as u,g as c,p as f,I as h,z as p}from"./index-B7OQiFPg.js";import{_ as g}from"./_plugin-vue_export-helper.BCo6x5W8.js";const w=g({data:()=>({formData:{username:"",nickname:"",password:"",confirmPassword:""},errors:{username:"",nickname:"",password:"",confirmPassword:""},loading:!1}),computed:{isFormValid(){return this.formData.username.length>=3&&this.formData.nickname.length>=2&&this.formData.password.length>=6&&this.formData.confirmPassword===this.formData.password&&!this.hasErrors},hasErrors(){return Object.values(this.errors).some((a=>""!==a))}},methods:{validateUsername(){this.formData.username?this.formData.username.length<3?this.errors.username="ç”¨æˆ·åè‡³å°‘3ä¸ªå­—ç¬¦":/^[a-zA-Z0-9_\u4e00-\u9fa5]+$/.test(this.formData.username)?this.errors.username="":this.errors.username="ç”¨æˆ·ååªèƒ½åŒ…å«å­—æ¯ã€æ•°å­—ã€ä¸‹åˆ’çº¿å’Œä¸­æ–‡":this.errors.username="ç”¨æˆ·åä¸èƒ½ä¸ºç©º"},validateNickname(){this.formData.nickname?this.formData.nickname.length<2?this.errors.nickname="æ˜µç§°è‡³å°‘2ä¸ªå­—ç¬¦":this.errors.nickname="":this.errors.nickname="æ˜µç§°ä¸èƒ½ä¸ºç©º"},validatePassword(){this.formData.password?this.formData.password.length<6?this.errors.password="å¯†ç è‡³å°‘6ä¸ªå­—ç¬¦":(this.errors.password="",this.formData.confirmPassword&&this.validateConfirmPassword()):this.errors.password="å¯†ç ä¸èƒ½ä¸ºç©º"},validateConfirmPassword(){this.formData.confirmPassword?this.formData.confirmPassword!==this.formData.password?this.errors.confirmPassword="ä¸¤æ¬¡è¾“å…¥çš„å¯†ç ä¸ä¸€è‡´":this.errors.confirmPassword="":this.errors.confirmPassword="è¯·ç¡®è®¤å¯†ç "},validateAllFields(){this.validateUsername(),this.validateNickname(),this.validatePassword(),this.validateConfirmPassword()},async handleRegister(){if(this.validateAllFields(),this.isFormValid){this.loading=!0;try{const r=await s(this.formData.username,this.formData.password,this.formData.nickname);r.success?(a({title:r.message,icon:"success"}),setTimeout((()=>{e({url:"/pages/login/login"})}),1500)):a({title:r.message,icon:"none",duration:3e3})}catch(r){console.error("æ³¨å†Œå¤±è´¥:",r),a({title:"æ³¨å†Œå¤±è´¥ï¼Œè¯·é‡è¯•",icon:"none"})}finally{this.loading=!1}}else a({title:"è¯·æ£€æŸ¥è¾“å…¥ä¿¡æ¯",icon:"none"})},goToLogin(){r()}}},[["render",function(a,s,e,r,g,w){const _=t,k=f,D=h,P=p;return i(),o(_,{class:"register-container"},{default:l((()=>[n(_,{class:"header"},{default:l((()=>[n(_,{class:"app-logo"},{default:l((()=>[d("ğŸ“–")])),_:1}),n(_,{class:"app-title"},{default:l((()=>[d("è®°æ„ Parli")])),_:1}),n(_,{class:"app-subtitle"},{default:l((()=>[d("åˆ›å»ºæ‚¨çš„å­¦ä¹ è´¦æˆ·")])),_:1})])),_:1}),n(_,{class:"register-form"},{default:l((()=>[n(_,{class:"form-title"},{default:l((()=>[d("ç”¨æˆ·æ³¨å†Œ")])),_:1}),n(_,{class:"input-group"},{default:l((()=>[n(_,{class:"input-label"},{default:l((()=>[n(k,{class:"input-icon"},{default:l((()=>[d("ğŸ‘¤")])),_:1}),n(k,null,{default:l((()=>[d("ç”¨æˆ·å")])),_:1})])),_:1}),n(D,{modelValue:g.formData.username,"onUpdate:modelValue":s[0]||(s[0]=a=>g.formData.username=a),class:m(["form-input",{error:g.errors.username}]),placeholder:"è¯·è¾“å…¥ç”¨æˆ·åï¼ˆè‡³å°‘3ä¸ªå­—ç¬¦ï¼‰",disabled:g.loading,maxlength:"20",onBlur:w.validateUsername},null,8,["modelValue","class","disabled","onBlur"]),g.errors.username?(i(),o(k,{key:0,class:"error-text"},{default:l((()=>[d(u(g.errors.username),1)])),_:1})):c("",!0)])),_:1}),n(_,{class:"input-group"},{default:l((()=>[n(_,{class:"input-label"},{default:l((()=>[n(k,{class:"input-icon"},{default:l((()=>[d("ğŸ˜Š")])),_:1}),n(k,null,{default:l((()=>[d("æ˜µç§°")])),_:1})])),_:1}),n(D,{modelValue:g.formData.nickname,"onUpdate:modelValue":s[1]||(s[1]=a=>g.formData.nickname=a),class:m(["form-input",{error:g.errors.nickname}]),placeholder:"è¯·è¾“å…¥æ˜µç§°ï¼ˆè‡³å°‘2ä¸ªå­—ç¬¦ï¼‰",disabled:g.loading,maxlength:"20",onBlur:w.validateNickname},null,8,["modelValue","class","disabled","onBlur"]),g.errors.nickname?(i(),o(k,{key:0,class:"error-text"},{default:l((()=>[d(u(g.errors.nickname),1)])),_:1})):c("",!0)])),_:1}),n(_,{class:"input-group"},{default:l((()=>[n(_,{class:"input-label"},{default:l((()=>[n(k,{class:"input-icon"},{default:l((()=>[d("ğŸ”’")])),_:1}),n(k,null,{default:l((()=>[d("å¯†ç ")])),_:1})])),_:1}),n(D,{modelValue:g.formData.password,"onUpdate:modelValue":s[2]||(s[2]=a=>g.formData.password=a),class:m(["form-input",{error:g.errors.password}]),placeholder:"è¯·è¾“å…¥å¯†ç ï¼ˆè‡³å°‘6ä¸ªå­—ç¬¦ï¼‰",password:"",disabled:g.loading,maxlength:"50",onBlur:w.validatePassword},null,8,["modelValue","class","disabled","onBlur"]),g.errors.password?(i(),o(k,{key:0,class:"error-text"},{default:l((()=>[d(u(g.errors.password),1)])),_:1})):c("",!0)])),_:1}),n(_,{class:"input-group"},{default:l((()=>[n(_,{class:"input-label"},{default:l((()=>[n(k,{class:"input-icon"},{default:l((()=>[d("ğŸ”“")])),_:1}),n(k,null,{default:l((()=>[d("ç¡®è®¤å¯†ç ")])),_:1})])),_:1}),n(D,{modelValue:g.formData.confirmPassword,"onUpdate:modelValue":s[3]||(s[3]=a=>g.formData.confirmPassword=a),class:m(["form-input",{error:g.errors.confirmPassword}]),placeholder:"è¯·å†æ¬¡è¾“å…¥å¯†ç ",password:"",disabled:g.loading,maxlength:"50",onBlur:w.validateConfirmPassword},null,8,["modelValue","class","disabled","onBlur"]),g.errors.confirmPassword?(i(),o(k,{key:0,class:"error-text"},{default:l((()=>[d(u(g.errors.confirmPassword),1)])),_:1})):c("",!0)])),_:1}),n(_,{class:"form-actions"},{default:l((()=>[n(P,{class:m(["register-btn",{loading:g.loading}]),disabled:g.loading||!w.isFormValid,onClick:w.handleRegister},{default:l((()=>[g.loading?(i(),o(k,{key:0},{default:l((()=>[d("æ³¨å†Œä¸­...")])),_:1})):(i(),o(k,{key:1},{default:l((()=>[d("æ³¨å†Œ")])),_:1}))])),_:1},8,["class","disabled","onClick"]),n(_,{class:"form-links"},{default:l((()=>[n(k,{class:"link-text",onClick:w.goToLogin},{default:l((()=>[d("å·²æœ‰è´¦å·ï¼Ÿç«‹å³ç™»å½•")])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1}),n(_,{class:"footer"},{default:l((()=>[n(k,{class:"footer-text"},{default:l((()=>[d("æ³¨å†Œå³è¡¨ç¤ºæ‚¨åŒæ„æˆ‘ä»¬çš„æœåŠ¡æ¡æ¬¾")])),_:1})])),_:1})])),_:1})}],["__scopeId","data-v-80e65f88"]]);export{w as default};
